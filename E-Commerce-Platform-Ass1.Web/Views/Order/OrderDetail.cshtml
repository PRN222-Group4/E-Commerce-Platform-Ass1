@model OrderDetailViewModel
@{
    ViewData["Title"] = "Chi tiết đơn hàng";
}

<h2 class="mb-4">Chi tiết đơn hàng</h2>

<div class="card mb-4">
    <div class="card-body">
        <p><strong>Mã đơn:</strong> @Model.OrderId</p>
        <p><strong>Ngày đặt:</strong> @Model.CreatedAt.ToString("dd/MM/yyyy HH:mm")</p>
        <p><strong>Địa chỉ:</strong> @Model.ShippingAddress</p>
        <p>
            <strong>Trạng thái:</strong>
            <span class="badge bg-success">@Model.Status</span>
        </p>
    </div>
</div>

<table class="table table-bordered align-middle">
    <thead class="table-light">
        <tr>
            <th>Sản phẩm</th>
            <th>Giá</th>
            <th>Số lượng</th>
            <th>Tạm tính</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var item in Model.Items)
        {
                <tr>
                    <td>
                        <div class="d-flex align-items-center">
                            <img src="@item.ImageUrl"
                                 width="60"
                                 class="me-3 rounded"
                                 onerror="this.src='/img/product-1.jpg'" />
                        @item.ProductName
                        </div>
                    </td>
                    <td>@item.Price.ToString("N0") đ</td>
                    <td>@item.Quantity</td>
                    <td>@item.SubTotal.ToString("N0") đ</td>
                </tr>
        }
    </tbody>
</table>

<div class="text-end mt-3">
    <h4>
        Tổng tiền:
        <span class="text-danger">@Model.TotalAmount.ToString("N0") đ</span>
    </h4>
</div>

<a asp-action="History" class="btn btn-secondary mt-3">
    ← Quay lại lịch sử đơn hàng
</a>
